
{% extends 'treemium/base.html' %}
{% block header %}
{% load static %}

<style>
.progress-bar {
  height: 3px;
  background: #1da1f2;
  box-shadow: 2px 14px 15px -7px rgba(30, 166, 250, 0.36);
  border-radius: 50px;
  transition: all 0.5s;
}

.containerr {
  /* width: 100%;
  height: 100vh;
  display: flex;
  flex-flow: column nowrap;
  justify-content: center;
  align-items: center; */
}
.containerr h2 {
  margin-bottom: 20px;
}
.containerr .progress {
  width: 60%;
  height: 200px;
  display: flex;
  flex-flow: column nowrap;
  justify-content: center;
  align-items: start;
  padding: 20px;
  background: #ffffff;
  border-radius: 20px;
  box-shadow: 0px 10px 15px #d9e3ff;
}
@media (max-width:800px){
    .containerr .progress{
        width: 100%;
    }
}
</style>
             
        <div class="content-body">
            <div class="container">
                <div class="row">
                    <div class="col-xl-12">
                        <div class="row">
                            <div class="col-xl-3 col-lg-6 col-md-6">
                                <div class="widget-card">
                                    <div class="widget-title">
                                        <h5>Balance</h5>
                                        <p class="text-success">133% <span><i class="las la-arrow-up"></i></span></p>
                                    </div>
                                    <div class="widget-info">
                                        {% for item in balance %}
                                        <h3>${{item.balance}}</h3>
                                        {% endfor %}
                                        <p>USD</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-6 col-md-6">
                                <div class="widget-card">
                                    <div class="widget-title">
                                        <h5>Btc Balance</h5>
                                        <p class="text-danger">133% <span><i class="las la-arrow-up"></i></span></p>
                                    </div>
                                    <div class="widget-info">
                                       {% for item in bitcoinbal %}
                                        <h3 class="m-0">{{item.balance}}</h3>
                                        {% endfor %}
                                        <p>BTC</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-6 col-md-6">
                                <div class="widget-card">
                                    <div class="widget-title">
                                        <h5>Bounce Rate</h5>
                                        <p class="text-success">133% <span><i class="las la-arrow-up"></i></span></p>
                                    </div>
                                    <div class="widget-info">
                                            {% for item in bouncerate %}
                                            <h3 class="m-0">${{item.balance}}</h3>
                                            {% endfor %}
                                        <p>USD</p>
                                    </div>
                                </div>
                            </div>
                            <!-- <div class="col-xl-3 col-lg-6 col-md-6">
                                <div class="widget-card">
                                    <div class="widget-title">
                                        <h5>Balance</h5>
                                        <p class="text-danger">133% <span><i class="las la-arrow-down"></i></span></p>
                                    </div>
                                    <div class="widget-info">
                                        <h3>$18,235.0</h3>
                                        <p>USD</p>
                                    </div>
                                </div>
                            </div> -->
                        </div>








                        <div class="row">
                        <div class="containerr">
                            <!-- <h2>Progressing</h2> -->
                            <div class="progress">
                            <h3>500,000 <span>USD</span></h3>
                            <p class="text-success">{{eb5}} <span>USD ({{eb5.percentage}}%)</span></p>
                            <p class="mb-1">EB5 Visa Goal</p>
                          </div>
                          </div>

               <script>
                var confetti = {
	maxCount: 150,		//set max confetti count
	speed: 2,			//set the particle animation speed
	frameInterval: 15,	//the confetti animation frame interval in milliseconds
	alpha: 1.0,			//the alpha opacity of the confetti (between 0 and 1, where 1 is opaque and 0 is invisible)
	gradient: false,	//whether to use gradients for the confetti particles
	start: null,		//call to start confetti animation (with optional timeout in milliseconds, and optional min and max random confetti count)
	stop: null,			//call to stop adding confetti
	toggle: null,		//call to start or stop the confetti animation depending on whether it's already running
	pause: null,		//call to freeze confetti animation
	resume: null,		//call to unfreeze confetti animation
	togglePause: null,	//call to toggle whether the confetti animation is paused
	remove: null,		//call to stop the confetti animation and remove all confetti immediately
	isPaused: null,		//call and returns true or false depending on whether the confetti animation is paused
	isRunning: null		//call and returns true or false depending on whether the animation is running
};

(function() {
	confetti.start = startConfetti;
	confetti.stop = stopConfetti;
	confetti.toggle = toggleConfetti;
	confetti.pause = pauseConfetti;
	confetti.resume = resumeConfetti;
	confetti.togglePause = toggleConfettiPause;
	confetti.isPaused = isConfettiPaused;
	confetti.remove = removeConfetti;
	confetti.isRunning = isConfettiRunning;
	var supportsAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;
	var colors = ["rgba(30,144,255,", "rgba(107,142,35,", "rgba(255,215,0,", "rgba(255,192,203,", "rgba(106,90,205,", "rgba(173,216,230,", "rgba(238,130,238,", "rgba(152,251,152,", "rgba(70,130,180,", "rgba(244,164,96,", "rgba(210,105,30,", "rgba(220,20,60,"];
	var streamingConfetti = false;
	var animationTimer = null;
	var pause = false;
	var lastFrameTime = Date.now();
	var particles = [];
	var waveAngle = 0;
	var context = null;

	function resetParticle(particle, width, height) {
		particle.color = colors[(Math.random() * colors.length) | 0] + (confetti.alpha + ")");
		particle.color2 = colors[(Math.random() * colors.length) | 0] + (confetti.alpha + ")");
		particle.x = Math.random() * width;
		particle.y = Math.random() * height - height;
		particle.diameter = Math.random() * 10 + 5;
		particle.tilt = Math.random() * 10 - 10;
		particle.tiltAngleIncrement = Math.random() * 0.07 + 0.05;
		particle.tiltAngle = Math.random() * Math.PI;
		return particle;
	}

	function toggleConfettiPause() {
		if (pause)
			resumeConfetti();
		else
			pauseConfetti();
	}

	function isConfettiPaused() {
		return pause;
	}

	function pauseConfetti() {
		pause = true;
	}

	function resumeConfetti() {
		pause = false;
		runAnimation();
	}

	function runAnimation() {
		if (pause)
			return;
		else if (particles.length === 0) {
			context.clearRect(0, 0, window.innerWidth, window.innerHeight);
			animationTimer = null;
		} else {
			var now = Date.now();
			var delta = now - lastFrameTime;
			if (!supportsAnimationFrame || delta > confetti.frameInterval) {
				context.clearRect(0, 0, window.innerWidth, window.innerHeight);
				updateParticles();
				drawParticles(context);
				lastFrameTime = now - (delta % confetti.frameInterval);
			}
			animationTimer = requestAnimationFrame(runAnimation);
		}
	}

	function startConfetti(timeout, min, max) {
		var width = window.innerWidth;
		var height = window.innerHeight;
		window.requestAnimationFrame = (function() {
			return window.requestAnimationFrame ||
				window.webkitRequestAnimationFrame ||
				window.mozRequestAnimationFrame ||
				window.oRequestAnimationFrame ||
				window.msRequestAnimationFrame ||
				function (callback) {
					return window.setTimeout(callback, confetti.frameInterval);
				};
		})();
		var canvas = document.getElementById("confetti-canvas");
		if (canvas === null) {
			canvas = document.createElement("canvas");
			canvas.setAttribute("id", "confetti-canvas");
			canvas.setAttribute("style", "display:block;z-index:999999;pointer-events:none;position:fixed;top:0");
			document.body.prepend(canvas);
			canvas.width = width;
			canvas.height = height;
			window.addEventListener("resize", function() {
				canvas.width = window.innerWidth;
				canvas.height = window.innerHeight;
			}, true);
			context = canvas.getContext("2d");
		} else if (context === null)
			context = canvas.getContext("2d");
		var count = confetti.maxCount;
		if (min) {
			if (max) {
				if (min == max)
					count = particles.length + max;
				else {
					if (min > max) {
						var temp = min;
						min = max;
						max = temp;
					}
					count = particles.length + ((Math.random() * (max - min) + min) | 0);
				}
			} else
				count = particles.length + min;
		} else if (max)
			count = particles.length + max;
		while (particles.length < count)
			particles.push(resetParticle({}, width, height));
		streamingConfetti = true;
		pause = false;
		runAnimation();
		if (timeout) {
			window.setTimeout(stopConfetti, timeout);
		}
	}

	function stopConfetti() {
		streamingConfetti = false;
	}

	function removeConfetti() {
		stop();
		pause = false;
		particles = [];
	}

	function toggleConfetti() {
		if (streamingConfetti)
			stopConfetti();
		else
			startConfetti();
	}
	
	function isConfettiRunning() {
		return streamingConfetti;
	}

	function drawParticles(context) {
		var particle;
		var x, y, x2, y2;
		for (var i = 0; i < particles.length; i++) {
			particle = particles[i];
			context.beginPath();
			context.lineWidth = particle.diameter;
			x2 = particle.x + particle.tilt;
			x = x2 + particle.diameter / 2;
			y2 = particle.y + particle.tilt + particle.diameter / 2;
			if (confetti.gradient) {
				var gradient = context.createLinearGradient(x, particle.y, x2, y2);
				gradient.addColorStop("0", particle.color);
				gradient.addColorStop("1.0", particle.color2);
				context.strokeStyle = gradient;
			} else
				context.strokeStyle = particle.color;
			context.moveTo(x, particle.y);
			context.lineTo(x2, y2);
			context.stroke();
		}
	}

	function updateParticles() {
		var width = window.innerWidth;
		var height = window.innerHeight;
		var particle;
		waveAngle += 0.01;
		for (var i = 0; i < particles.length; i++) {
			particle = particles[i];
			if (!streamingConfetti && particle.y < -15)
				particle.y = height + 100;
			else {
				particle.tiltAngle += particle.tiltAngleIncrement;
				particle.x += Math.sin(waveAngle) - 0.5;
				particle.y += (Math.cos(waveAngle) + particle.diameter + confetti.speed) * 0.5;
				particle.tilt = Math.sin(particle.tiltAngle) * 15;
			}
			if (particle.x > width + 20 || particle.x < -20 || particle.y > height) {
				if (streamingConfetti && particles.length <= confetti.maxCount)
					resetParticle(particle, width, height);
				else {
					particles.splice(i, 1);
					i--;
				}
			}
		}
	}
})();
               </script>
                          
               <script>
            //       const start = () => {
            // setTimeout(function() {
            //     confetti.start()
            // }, 1000); // 1000 is time that after 1 second start the confetti ( 1000 = 1 sec)
        //};

        //  for stopping the confetti 

        const stop = () => {
            setTimeout(function() {
                confetti.stop()
            }, 5000); // 5000 is time that after 5 second stop the confetti ( 5000 = 5 sec)
        };
// after this here we are calling both the function so it works
        start();
        stop();
               </script>




                        
                      

                            <div class="col-xl-8 col-lg-12 col-xxl-8">
                                <div class="card profile_chart transparent">
                                    <div class="card-header" style="visibility: hidden;">
                                        <!-- <div class="chart_current_data">
                                            <h3>500,000 <span>USD</span></h3>
                                            <p class="text-success">250,000 <span>USD (60%)</span></p>
                                            <p class="mb-1">EB5 Visa Goal</p>
                                        </div>
                                        <div class="duration-option">
                                            <a id="all" class="active">ALL</a>
                                            <a id="one_month" class="">1M</a>
                                            <a id="six_months">6M</a>
                                            <a id="one_year" class="">1Y</a>
                                            <a id="ytd" class="">YTD</a>
                                        </div> -->
                                    </div>


                                    
                                    <h4>Market Analysis</h4>
                                    <div class="card-body">
                                        <div id="timeline-chart"></div>
                                     
                                        <div class="chart-content text-center">
                                            <div class="row">
                                                <div class="col-xl-4 col-sm-6 col-6">
                                                    <div class="chart-stat">
                                                        <p class="mb-1">24hr Volume</p>
                                                        <strong>$1236548.325</strong>
                                                    </div>
                                                </div>
                                                <div class="col-xl-4 col-sm-6 col-6">
                                                    <div class="chart-stat">
                                                        <p class="mb-1">Market Cap</p>
                                                        <strong>19B USD</strong>
                                                    </div>
                                                </div>
                                                <div class="col-xl-4 col-sm-6 col-6">
                                                    <div class="chart-stat">
                                                        <p class="mb-1">Circulating</p>
                                                        <strong>29.4M BTC</strong>
                                                    </div>
                                                </div>
                                                <div class="col-xl-4 col-sm-6 col-6">
                                                    <div class="chart-stat">
                                                        <p class="mb-1">All Time High</p>
                                                        <strong>19,783.06 USD</strong>
                                                    </div>
                                                </div>
                                                <div class="col-xl-4 col-sm-6 col-6">
                                                    <div class="chart-stat">
                                                        <p class="mb-1">Typical hold </p>
                                                        <strong>14 days</strong>
                                                    </div>
                                                </div>
                                                <div class="col-xl-4 col-sm-6 col-6">
                                                    <div class="chart-stat">
                                                        <p class="mb-1">Trading activity </p>
                                                        <strong>90% buy </strong>
                                                    </div>
                                                </div>
                                                <!-- <div class="col-xl-4 col-sm-6 col-6">
                                                    <div class="chart-stat">
                                                        <p class="mb-1">Popularity </p>
                                                        <strong>#1 most held </strong>
                                                    </div>
                                                </div>
                                                <div class="col-xl-4 col-sm-6 col-6">
                                                    <div class="chart-stat">
                                                        <p class="mb-1">Popularity </p>
                                                        <strong>#1 most held </strong>
                                                    </div>
                                                </div> -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xl-4 col-lg-12 col-xxl-4">
                                <div class="card balance-widget transparent">
                                    <div class="card-body">
                                        <div id="wallet-chart"></div>
                                        <div class="balance-widget">
                                            <h4>Total Balance : <strong> {% for item in balance %}${{item.balance}}{% endfor %}</strong></h4>
                                            <ul class="list-unstyled">
                                                <li class="d-flex">
                                                    <i class="cc BTC me-3"></i>
                                                    <div class="flex-grow-1">
                                                        <h5 class="m-0">Bitcoin</h6>
                                                    </div>
                                                    <div class="text-right">
                                                        {% for item in bitcoinbal %}
                                                        <h5>{{item.balance}} BTC</h5>
                                                        {% endfor %}
                                                        <span>0.125 USD</span>
                                                    </div>
                                                </li>
                                                <li class="d-flex">
                                                    <i class="cc LTC me-3"></i>
                                                    <div class="flex-grow-1">
                                                        <h5 class="m-0">Litecoin</h6>
                                                    </div>
                                                    <div class="text-right">
                                                        <h5>0.00000 LTC</h5>
                                                        <span>0.00 USD</span>
                                                    </div>
                                                </li>
                                                <li class="d-flex">
                                                    <i class="cc XRP me-3"></i>
                                                    <div class="flex-grow-1">
                                                        <h5 class="m-0">Ripple</h6>
                                                    </div>
                                                    <div class="text-right">
                                                        <h5>0.00000 XRP</h5>
                                                        <span>0.00 USD</span>
                                                    </div>
                                                </li>
                                                <li class="d-flex">
                                                    <i class="cc DASH me-3"></i>
                                                    <div class="flex-grow-1">
                                                        <h5 class="m-0">Dash</h6>
                                                    </div>
                                                    <div class="text-right">
                                                        <h5>0.00000 XRP</h5>
                                                        <span>0.00 USD</span>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-12 col-lg-12 col-xxl-12">
                                <div class="row">
                                    <div class="col-xl-4">
                                        <div class="widget-card">
                                            <div class="d-flex justify-content-between align-items-center">
                                                <div class="widget-stat">
                                                    <div class="coin-title">
                                                        <span><i class="cc BTC-alt"></i></span>
                                                        <h5 class="d-inline-block ms-2 mb-3">Bitcoin
                                                            <span>(24h)</span>
                                                        </h5>
                                                    </div>
                                                    <h4>USD 1254.36 <span class="badge bg-success ms-2">+
                                                            06%</span>
                                                    </h4>
                                                </div>
                                                <div id="btcChart"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xl-4">
                                        <div class="widget-card">
                                            <div class="d-flex justify-content-between align-items-center">
                                                <div class="widget-stat">
                                                    <div class="coin-title">
                                                        <span><i class="cc ETH-alt"></i></span>
                                                        <h5 class="d-inline-block ms-2 mb-3">Ethereum
                                                            <span>(24h)</span>
                                                        </h5>
                                                    </div>
                                                    <h4>USD 1254.36 <span class="badge bg-danger ms-2">-
                                                            06%</span>
                                                    </h4>
                                                </div>
                                                <div id="ltcChart"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xl-4">
                                        <div class="widget-card">
                                            <div class="d-flex justify-content-between align-items-center">
                                                <div class="widget-stat">
                                                    <div class="coin-title">
                                                        <span><i class="cc LTC-alt"></i></span>
                                                        <h5 class="d-inline-block ms-2 mb-3">Litecoin
                                                            <span>(24h)</span>
                                                        </h5>
                                                    </div>
                                                    <h4>USD 1254.36 <span class="badge bg-primary ms-2">
                                                            06%</span>
                                                    </h4>
                                                </div>
                                                <div id="xrpChart"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-12">
                        <div class="row">
                            <div class="col-xl-6 col-lg-12 col-xxl-4">
                                <div class="card">
                                    <div class="card-header">
                                        <h4 class="card-title">Exchange</h4>
                                    </div>
                                    <div class="card-body">
                                        <div class="buy-sell-widget">
                                            <form method="post" name="myform" class="currency_validate">
                                                <div class="mb-3">
                                                    <label class="me-sm-2">Currency</label>
                                                    <div class="input-group mb-3">
                                                        <div class="input-group-prepend">
                                                            <label class="input-group-text"><i
                                                                    class="cc BTC-alt"></i></label>
                                                        </div>
                                                        <select class="form-control" name="crytoselect" id="crytoselect"></select>
                                                    </div>
                                                </div>

                                                <div class="mb-3">
                                                    <label class="me-sm-2">Select Currency</label>
                                                    <div class="input-group mb-3">
                                                        <div class="input-group-prepend">
                                                            <label class="input-group-text"><i
                                                                    class="fa fa-money"></i></label>
                                                        </div>
                                                        <select class="form-control" name="fiatselect" id="fiatselect"></select>
                                                    </div>
                                                </div>

                                                <div class="mb-3">
                                                    <label class="me-sm-2">Enter your amount</label>
                                                    <div class="input-group">
                                                        <input type="number" id="crytovalue" name="crytovalue" class="form-control" value="1" min="0.1" step="1" required>
                                                        <input type="number" id="fiatvalue" name="fiatvalue" class="form-control" value="" min="0.1" step="0.01" required>
                                                    </div>
                                                    <!-- <div class="d-flex justify-content-between mt-3">
                                                        <p class="mb-0">Monthly Limit</p>
                                                        <h6 class="mb-0">$49750 remaining</h6>
                                                    </div> -->
                                                </div>
                                                  
<!-- <div class="item">
    <input type="number" id="crytovalue" name="crytovalue" class="valuefield" value="1" min="0.1" step="1" required>
     <select name="crytoselect" id="crytoselect"></select>
   </div>
   
   <div class="item">
    <input type="number" id="fiatvalue" name="fiatvalue" class="valuefield" value="" min="0.1" step="0.01" required>
     <select name="fiatselect" id="fiatselect"></select>
    </div>
     
   </div>
     
   </div> -->
   <script>
     const cryptoInput =document.querySelector('#crytovalue')
   const fiatInput = document.querySelector('#fiatvalue')
   const crytoselect = document.querySelector('#crytoselect')
   const fiatselect = document.querySelector('#fiatselect')
   const fiat = [
   {
   currency: "USD",
   country: "United States Dollar"
   },
   {
   currency: "EUR",
   country: "Euro"
   },
   {
   currency: "GBP",
   country: "British Pound Sterling"
   },
   {
   currency: "JPY",
   country: "Japanese Yen"
   },
   {
   currency: "AED",
   country: "United Arab Emirates Dirham"
   },
   {
   currency: "AFN",
   country: "Afghan Afghani"
   },
   {
   currency: "ALL",
   country: "Albanian Lek"
   },
   {
   currency: "AMD",
   country: "Armenian Dram"
   },
   {
   currency: "ANG",
   country: "Netherlands Antillean Guilder"
   },
   {
   currency: "AOA",
   country: "Angolan Kwanza"
   },
   {
   currency: "ARS",
   country: "Argentine Peso"
   },
   {
   currency: "AUD",
   country: "Australian Dollar"
   },
   {
   currency: "AWG",
   country: "Aruban Florin"
   },
   {
   currency: "AZN",
   country: "Azerbaijani Manat"
   },
   {
   currency: "BAM",
   country: "Bosnia-Herzegovina Convertible Mark"
   },
   {
   currency: "BBD",
   country: "Barbadian Dollar"
   },
   {
   currency: "BDT",
   country: "Bangladeshi Taka"
   },
   {
   currency: "BGN",
   country: "Bulgarian Lev"
   },
   {
   currency: "BHD",
   country: "Bahraini Dinar"
   },
   {
   currency: "BIF",
   country: "Burundian Franc"
   },
   {
   currency: "BMD",
   country: "Bermudan Dollar"
   },
   {
   currency: "BND",
   country: "Brunei Dollar"
   },
   {
   currency: "BOB",
   country: "Bolivian Boliviano"
   },
   {
   currency: "BRL",
   country: "Brazilian Real"
   },
   {
   currency: "BSD",
   country: "Bahamian Dollar"
   },
   {
   currency: "BTN",
   country: "Bhutanese Ngultrum"
   },
   {
   currency: "BWP",
   country: "Botswanan Pula"
   },
   {
   currency: "BYR",
   country: "Belarusian Ruble"
   },
   {
   currency: "BZD",
   country: "Belize Dollar"
   },
   {
   currency: "CAD",
   country: "Canadian Dollar"
   },
   {
   currency: "CDF",
   country: "Congolese Franc"
   },
   {
   currency: "CHF",
   country: "Swiss Franc"
   },
   {
   currency: "CLF",
   country: "Chilean Unit of Account (UF)"
   },
   {
   currency: "CLP",
   country: "Chilean Peso"
   },
   {
   currency: "CNY",
   country: "Chinese Yuan"
   },
   {
   currency: "COP",
   country: "Colombian Peso"
   },
   {
   currency: "CRC",
   country: "Costa Rican Colón"
   },
   {
   currency: "CUP",
   country: "Cuban Peso"
   },
   {
   currency: "CVE",
   country: "Cape Verdean Escudo"
   },
   {
   currency: "CZK",
   country: "Czech Republic Koruna"
   },
   {
   currency: "DJF",
   country: "Djiboutian Franc"
   },
   {
   currency: "DKK",
   country: "Danish Krone"
   },
   {
   currency: "DOP",
   country: "Dominican Peso"
   },
   {
   currency: "DZD",
   country: "Algerian Dinar"
   },
   {
   currency: "EEK",
   country: "Estonian Kroon"
   },
   {
   currency: "EGP",
   country: "Egyptian Pound"
   },
   {
   currency: "ERN",
   country: "Eritrean Nnakfa"
   },
   {
   currency: "ETB",
   country: "Ethiopian Birr"
   },
   {
   currency: "FJD",
   country: "Fijian Dollar"
   },
   {
   currency: "FKP",
   country: "Falkland Islands Pound"
   },
   
   {
   currency: "GEL",
   country: "Georgian Lari"
   },
   {
   currency: "GHS",
   country: "Ghanaian Cedi"
   },
   {
   currency: "GIP",
   country: "Gibraltar Pound"
   },
   {
   currency: "GMD",
   country: "Gambian Dalasi"
   },
   {
   currency: "GNF",
   country: "Guinean Franc"
   },
   {
   currency: "GTQ",
   country: "Guatemalan Quetzal"
   },
   {
   currency: "GYD",
   country: "Guyanaese Dollar"
   },
   {
   currency: "HKD",
   country: "Hong Kong Dollar"
   },
   {
   currency: "HNL",
   country: "Honduran Lempira"
   },
   {
   currency: "HRK",
   country: "Croatian Kuna"
   },
   {
   currency: "HTG",
   country: "Haitian Gourde"
   },
   {
   currency: "HUF",
   country: "Hungarian Forint"
   },
   {
   currency: "IDR",
   country: "Indonesian Rupiah"
   },
   {
   currency: "ILS",
   country: "Israeli New Sheqel"
   },
   {
   currency: "INR",
   country: "Indian Rupee"
   },
   {
   currency: "IQD",
   country: "Iraqi Dinar"
   },
   {
   currency: "IRR",
   country: "Iranian Rial"
   },
   {
   currency: "ISK",
   country: "Icelandic Króna"
   },
   {
   currency: "JEP",
   country: "Jersey Pound"
   },
   {
   currency: "JMD",
   country: "Jamaican Dollar"
   },
   {
   currency: "JOD",
   country: "Jordanian Dinar"
   },
   {
   currency: "KES",
   country: "Kenyan Shilling"
   },
   {
   currency: "KGS",
   country: "Kyrgystani Som"
   },
   {
   currency: "KHR",
   country: "Cambodian Riel"
   },
   {
   currency: "KMF",
   country: "Comorian Franc"
   },
   {
   currency: "KPW",
   country: "North Korean Won"
   },
   {
   currency: "KRW",
   country: "South Korean Won"
   },
   {
   currency: "KWD",
   country: "Kuwaiti Dinar"
   },
   {
   currency: "KYD",
   country: "Cayman Islands Dollar"
   },
   {
   currency: "KZT",
   country: "Kazakhstani Tenge"
   },
   {
   currency: "LAK",
   country: "Laotian Kip"
   },
   {
   currency: "LBP",
   country: "Lebanese Pound"
   },
   {
   currency: "LKR",
   country: "Sri Lankan Rupee"
   },
   {
   currency: "LRD",
   country: "Liberian Dollar"
   },
   {
   currency: "LSL",
   country: "Lesotho Loti"
   },
   {
   currency: "LTL",
   country: "Lithuanian Litas"
   },
   {
   currency: "LVL",
   country: "Latvian Lats"
   },
   {
   currency: "LYD",
   country: "Libyan Dinar"
   },
   {
   currency: "MAD",
   country: "Moroccan Dirham"
   },
   {
   currency: "MDL",
   country: "Moldovan Leu"
   },
   {
   currency: "MGA",
   country: "Malagasy Ariary"
   },
   {
   currency: "MKD",
   country: "Macedonian Denar"
   },
   {
   currency: "MMK",
   country: "Myanma Kyat"
   },
   {
   currency: "MNT",
   country: "Mongolian Tugrik"
   },
   {
   currency: "MOP",
   country: "Macanese Pataca"
   },
   {
   currency: "MRO",
   country: "Mauritanian Ouguiya"
   },
   {
   currency: "MTL",
   country: "Maltese Lira"
   },
   {
   currency: "MUR",
   country: "Mauritian Rupee"
   },
   {
   currency: "MVR",
   country: "Maldivian Rufiyaa"
   },
   {
   currency: "MWK",
   country: "Malawian Kwacha"
   },
   {
   currency: "MXN",
   country: "Mexican Peso"
   },
   {
   currency: "MYR",
   country: "Malaysian Ringgit"
   },
   {
   currency: "MZN",
   country: "Mozambican Metical"
   },
   {
   currency: "NAD",
   country: "Namibian Dollar"
   },
   {
   currency: "NGN",
   country: "Nigerian Naira"
   },
   {
   currency: "NIO",
   country: "Nicaraguan Córdoba"
   },
   {
   currency: "NOK",
   country: "Norwegian Krone"
   },
   {
   currency: "NPR",
   country: "Nepalese Rupee"
   },
   {
   currency: "NZD",
   country: "New Zealand Dollar"
   },
   {
   currency: "OMR",
   country: "Omani Rial"
   },
   {
   currency: "PAB",
   country: "Panamanian Balboa"
   },
   {
   currency: "PEN",
   country: "Peruvian Nuevo Sol"
   },
   {
   currency: "PGK",
   country: "Papua New Guinean Kina"
   },
   {
   currency: "PHP",
   country: "Philippine Peso"
   },
   {
   currency: "PKR",
   country: "Pakistani Rupee"
   },
   {
   currency: "PLN",
   country: "Polish Zloty"
   },
   {
   currency: "PYG",
   country: "Paraguayan Guarani"
   },
   {
   currency: "QAR",
   country: "Qatari Rial"
   },
   {
   currency: "RON",
   country: "Romanian Leu"
   },
   {
   currency: "RSD",
   country: "Serbian Dinar"
   },
   {
   currency: "RUB",
   country: "Russian Ruble"
   },
   {
   currency: "RWF",
   country: "Rwandan Franc"
   },
   {
   currency: "SAR",
   country: "Saudi Riyal"
   },
   {
   currency: "SBD",
   country: "Solomon Islands Dollar"
   },
   {
   currency: "SCR",
   country: "Seychellois Rupee"
   },
   {
   currency: "SDG",
   country: "Sudanese Pound"
   },
   {
   currency: "SEK",
   country: "Swedish Krona"
   },
   {
   currency: "SGD",
   country: "Singapore Dollar"
   },
   {
   currency: "SHP",
   country: "Saint Helena Pound"
   },
   {
   currency: "SLL",
   country: "Sierra Leonean Leone"
   },
   {
   currency: "SOS",
   country: "Somali Shilling"
   },
   {
   currency: "SRD",
   country: "Surinamese Dollar"
   },
   {
   currency: "STD",
   country: "São Tomé and Príncipe Dobra"
   },
   {
   currency: "SVC",
   country: "Salvadoran Colón"
   },
   {
   currency: "SYP",
   country: "Syrian Pound"
   },
   {
   currency: "SZL",
   country: "Swazi Lilangeni"
   },
   {
   currency: "THB",
   country: "Thai Baht"
   },
   {
   currency: "TJS",
   country: "Tajikistani Somoni"
   },
   {
   currency: "TMT",
   country: "Turkmenistani Manat"
   },
   {
   currency: "TND",
   country: "Tunisian Dinar"
   },
   {
   currency: "TOP",
   country: "Tongan Pa?anga"
   },
   {
   currency: "TRY",
   country: "Turkish Lira"
   },
   {
   currency: "TTD",
   country: "Trinidad and Tobago Dollar"
   },
   {
   currency: "TWD",
   country: "New Taiwan Dollar"
   },
   {
   currency: "TZS",
   country: "Tanzanian Shilling"
   },
   {
   currency: "UAH",
   country: "Ukrainian Hryvnia"
   },
   {
   currency: "UGX",
   country: "Ugandan Shilling"
   },
   {
   currency: "UYU",
   country: "Uruguayan Peso"
   },
   {
   currency: "UZS",
   country: "Uzbekistan Som"
   },
   {
   currency: "VEF",
   country: "Venezuelan Bolívar Fuerte"
   },
   {
   currency: "VND",
   country: "Vietnamese Dong"
   },
   {
   currency: "VUV",
   country: "Vanuatu Vatu"
   },
   {
   currency: "WST",
   country: "Samoan Tala"
   },
   {
   currency: "XAF",
   country: "CFA Franc BEAC"
   },
   {
   currency: "XAG",
   country: "Silver (troy ounce)"
   },
   {
   currency: "XAU",
   country: "Gold (troy ounce)"
   },
   {
   currency: "XCD",
   country: "East Caribbean Dollar"
   },
   {
   currency: "XDR",
   country: "Special Drawing Rights"
   },
   {
   currency: "XOF",
   country: "CFA Franc BCEAO"
   },
   {
   currency: "XPF",
   country: "CFP Franc"
   },
   {
   currency: "YER",
   country: "Yemeni Rial"
   },
   {
   currency: "ZAR",
   country: "South African Rand"
   },
   {
   currency: "ZMK",
   country: "Zambian Kwacha (pre-2013)"
   },
   {
   currency: "ZMW",
   country: "Zambian Kwacha"
   },
   {
   currency: "ZWL",
   country: "Zimbabwean Dollar"
   }
   ] 
   const coins = [
   {
   currency: "BTC",
   country: "Bitcoin"
   },
   //{
   //  currency: "XBT",
   //  country: "Bitcoin"
   //},
   ]
   
   insertCurrencies(coins,crytoselect)
   insertCurrencies(fiat,fiatselect) 
   
   function insertCurrencies(curr, selectEl){
     curr.forEach(c=>{
       selectEl.appendChild(currOption(c.currency,c.country))
     })
     function currOption(value,title){
       const o=document.createElement('option')
       o.title = title
       o.value = value
       o.text = value
       o.className = 'calcoption'
       return o
     }
   }
   
   calc('crypto')
   fiatInput.onkeyup = ()=>calc()
   fiatInput.onchange = ()=>calc()
   cryptoInput.onkeyup = ()=>calc('crypto')
   cryptoInput.onchange = ()=>calc('crypto')
   
   fiatselect.onchange = ()=>calc('crypto')
   crytoselect.onchange = ()=>calc()
   
   async function calc(changer){
     const fiat = fiatselect.value
     const cryptoVal = Number(cryptoInput.value)
     const fiatVal = Number(fiatInput.value) 
     const res = await fetch(`https://api.coindesk.com/v1/bpi/currentprice/${fiat.toLowerCase()}.json`)
     const json = await res.json() 
     const exchangeRate = parseInt(json.bpi[fiat].rate_float)
     if(changer==='crypto'){
       const amount =  cryptoVal * exchangeRate 
       fiatInput.value = parseFloat(amount).toFixed(2)
     }else{
       const amount =  fiatVal / exchangeRate 
       cryptoInput.value = amount
     } 
   }
   </script>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-6 col-lg-12 col-xxl-8">
                                <div class="card">
                                    <div class="card-header">
                                        <h4 class="card-title">Transactions</h4>
                                    </div>
                                    <div class="card-body">
                                        <div class="transaction-widget">
                                            <ul class="list-unstyled">
                                                {% for transactions in transaction %}
                                                <li class="d-flex">
                                                    <span class="buy-thumb"><i class="la la-arrow-down"></i></span>
                                                    <div class="flex-grow-1">
                                                        <p>
                                                            <small>{{transactions.date}}</small>
                                                        </p>
                                                        <p class="wallet-address text-dark">{{transactions.wallet_id}}
                                                        </p>
                                                    </div>
                                                    <div class="text-right">
                                                        <h4>{{transactions.amount_btc}} BTC</h4><br>
                                                        <h4>$ {{transactions.amount_num}}</h4>
                                                    </div>
                                                </li>
                                                {% endfor %}
                                                <!-- <li class="d-flex">
                                                    <span class="buy-thumb"><i class="la la-arrow-up"></i></span>
                                                    <div class="flex-grow-1">
                                                        <p>
                                                            <small>9 November,
                                                                <script>
                                                                    var CurrentYear = new Date().getFullYear()
                                                                    document.write(CurrentYear)
                                                                </script>
                                                            </small>
                                                            <small>15:33</small>
                                                        </p>
                                                        <p class="wallet-address text-dark">15f5s8s47bhj61r8w4e77e5e56
                                                        </p>
                                                    </div>
                                                    <div class="text-right">
                                                        <h4>0.000242 LTC</h4>
                                                    </div>
                                                </li>
                                                <li class="d-flex">
                                                    <span class="sold-thumb"><i class="la la-arrow-down"></i></span>
                                                    <div class="flex-grow-1">
                                                        <p>
                                                            <small>9 November,
                                                                <script>
                                                                    var CurrentYear = new Date().getFullYear()
                                                                    document.write(CurrentYear)
                                                                </script>
                                                            </small>
                                                            <small>15:33</small>
                                                        </p>
                                                        <p class="wallet-address text-dark">15f5s8s47bhj61r8w4e77e5e56
                                                        </p>
                                                    </div>
                                                    <div class="text-right">
                                                        <h4>0.000242 XRP</h4>
                                                    </div>
                                                </li>
                                                <li class="d-flex">
                                                    <span class="buy-thumb"><i class="la la-arrow-up"></i></span>
                                                    <div class="flex-grow-1">
                                                        <p>
                                                            <small>9 November,
                                                                <script>
                                                                    var CurrentYear = new Date().getFullYear()
                                                                    document.write(CurrentYear)
                                                                </script>
                                                            </small>
                                                            <small>15:33</small>
                                                        </p>
                                                        <p class="wallet-address text-dark">15f5s8s47bhj61r8w4e77e5e56
                                                        </p>
                                                    </div>
                                                    <div class="text-right">
                                                        <h4>0.000242 XRP</h4>
                                                    </div>
                                                </li>
                                                <li class="d-flex">
                                                    <span class="buy-thumb"><i class="la la-arrow-up"></i></span>
                                                    <div class="flex-grow-1">
                                                        <p>
                                                            <small>9 November,
                                                                <script>
                                                                    var CurrentYear = new Date().getFullYear()
                                                                    document.write(CurrentYear)
                                                                </script>
                                                            </small>
                                                            <small>15:33</small>
                                                        </p>
                                                        <p class="wallet-address text-dark">15f5s8s47bhj61r8w4e77e5e56
                                                        </p>
                                                    </div>
                                                    <div class="text-right">
                                                        <h4>0.000242 XRP</h4>
                                                    </div>
                                                </li> -->
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <script>
        /* 
     * (class)Progress<nowValue, minValue, maxValue>
     */
    
    //helper function-> return <DOMelement>
    function elt(type, prop, ...childrens) {
      let elem = document.createElement(type);
      if (prop) Object.assign(elem, prop);
      for (let child of childrens) {
        if (typeof child == "string") elem.appendChild(document.createTextNode(child));
        else elem.appendChild(elem);
      }
      return elem;
    }
    
    //Progress class
    class Progress {
      constructor(now, min, max, options) {
        this.dom = elt("div", {
          className: "progress-bar"
        });
        this.min = min;
        this.max = max;
        this.intervalCode = 0;
        this.now = now;
        this.syncState();
        if(options.parent){
          document.querySelector(options.parent).appendChild(this.dom);
        } 
        else document.body.appendChild(this.dom)
      }
    
      syncState() {
        this.dom.style.width = this.now + "%";
      }
    
      startTo(step, time) {
        if (this.intervalCode !== 0) return;
        this.intervalCode = setInterval(() => {
          console.log("sss")
          if (this.now + step > this.max) {
            this.now = this.max;
            this.syncState();
            clearInterval(this.interval);
            this.intervalCode = 0;
            return;
          }
          this.now += step;
          this.syncState()
        }, time)
      }
      end() {
        this.now = this.max;
        clearInterval(this.intervalCode);
        this.intervalCode = 0;
        this.syncState();
      }
    }
    
    
    let pb = new Progress(15, 0, {{eb5.percentage}}, {parent : ".progress"}); ///progress bar colum => 85
    
    //arg1 -> step length
    //arg2 -> time(ms)
    pb.startTo(10, 10000);
    
    //end to progress after 5s
    setTimeout( () => {
      pb.end()
    }, 4000)
      </script>
{% endblock %}